import time
import streamlit as st

def mock_generate_note():
    """Simulate generating a note."""
    st.session_state.soap_note = {
        "subjective": [
            {"text": "Patient reports persistent headache for 3 days.", "source_chunk_index": 0},
            {"text": "Pain rated 6/10.", "source_chunk_index": 1}
        ],
        "objective": [{"text": "BP 120/80.", "source_chunk_index": 2}],
        "assessment": [{"text": "Tension headache.", "source_chunk_index": 2}],
        "plan": [{"text": "Rest and hydration.", "source_chunk_index": 3}]
    }

def mock_generate_transcript():
    """Simulate generating a transcript"""
    st.session_state.transcript = [{'start': 0.151,
  'end': 0.872,
  'speaker': 'Doctor',
  'words': [{'word': 'brought',
    'start': 0.151,
    'end': 0.311,
    'is_unclear': False},
   {'word': 'you', 'start': 0.351, 'end': 0.431, 'is_unclear': False},
   {'word': 'in', 'start': 0.472, 'end': 0.552, 'is_unclear': False},
   {'word': 'today.', 'start': 0.592, 'end': 0.872, 'is_unclear': False}]},
 {'start': 2.053,
  'end': 9.542,
  'speaker': 'Patient',
  'words': [{'word': 'Sure.',
    'start': 2.053,
    'end': 2.394,
    'is_unclear': False},
   {'word': "I'm", 'start': 2.414, 'end': 3.075, 'is_unclear': False},
   {'word': 'just', 'start': 3.375, 'end': 3.575, 'is_unclear': False},
   {'word': 'having', 'start': 3.715, 'end': 4.216, 'is_unclear': False},
   {'word': 'a', 'start': 4.236, 'end': 4.256, 'is_unclear': False},
   {'word': 'lot', 'start': 4.797, 'end': 5.057, 'is_unclear': False},
   {'word': 'of', 'start': 5.097, 'end': 5.157, 'is_unclear': False},
   {'word': 'chest', 'start': 5.618, 'end': 5.998, 'is_unclear': False},
   {'word': 'pain', 'start': 6.078, 'end': 6.639, 'is_unclear': False},
   {'word': 'and', 'start': 7.78, 'end': 7.9, 'is_unclear': False},
   {'word': 'so', 'start': 7.941, 'end': 8.101, 'is_unclear': False},
   {'word': 'I', 'start': 8.121, 'end': 8.161, 'is_unclear': False},
   {'word': 'thought', 'start': 8.201, 'end': 8.381, 'is_unclear': False},
   {'word': 'I', 'start': 8.421, 'end': 8.461, 'is_unclear': False},
   {'word': 'should', 'start': 8.501, 'end': 8.681, 'is_unclear': False},
   {'word': 'get', 'start': 8.721, 'end': 8.842, 'is_unclear': False},
   {'word': 'it', 'start': 8.902, 'end': 8.942, 'is_unclear': False},
   {'word': 'checked', 'start': 8.962, 'end': 9.262, 'is_unclear': False},
   {'word': 'out.', 'start': 9.402, 'end': 9.542, 'is_unclear': False}]},
 {'start': 11.365,
  'end': 11.785,
  'speaker': 'Doctor',
  'words': [{'word': 'Okay.',
    'start': 11.365,
    'end': 11.785,
    'is_unclear': False}]},
 {'start': 12.927,
  'end': 19.735,
  'speaker': 'Doctor',
  'words': [{'word': 'And',
    'start': 12.927,
    'end': 13.007,
    'is_unclear': False},
   {'word': 'before', 'start': 13.047, 'end': 13.387, 'is_unclear': False},
   {'word': 'we', 'start': 13.447, 'end': 13.707, 'is_unclear': False},
   {'word': 'start,', 'start': 14.629, 'end': 14.929, 'is_unclear': False},
   {'word': 'could', 'start': 14.969, 'end': 15.129, 'is_unclear': False},
   {'word': 'you', 'start': 15.169, 'end': 15.47, 'is_unclear': False},
   {'word': 'remind', 'start': 17.412, 'end': 17.712, 'is_unclear': False},
   {'word': 'me', 'start': 17.752, 'end': 17.892, 'is_unclear': False},
   {'word': 'of', 'start': 17.933, 'end': 17.993, 'is_unclear': False},
   {'word': 'your', 'start': 18.033, 'end': 18.373, 'is_unclear': False},
   {'word': 'gender', 'start': 18.994, 'end': 19.274, 'is_unclear': False},
   {'word': 'and', 'start': 19.354, 'end': 19.434, 'is_unclear': False},
   {'word': 'age?', 'start': 19.534, 'end': 19.735, 'is_unclear': False}]},
 {'start': 20.596,
  'end': 23.619,
  'speaker': 'Patient',
  'words': [{'word': 'Sure.',
    'start': 20.596,
    'end': 22.158,
    'is_unclear': False},
   {'word': '39.', 'start': 0.0, 'end': 0.0, 'is_unclear': True},
   {'word': 'A', 'start': 22.198, 'end': 22.218, 'is_unclear': True},
   {'word': 'male.', 'start': 23.299, 'end': 23.619, 'is_unclear': False}]},
 {'start': 24.661,
  'end': 26.503,
  'speaker': 'Patient',
  'words': [{'word': 'Okay.',
    'start': 24.661,
    'end': 26.503,
    'is_unclear': False}]},
 {'start': 27.284,
  'end': 29.647,
  'speaker': 'Doctor',
  'words': [{'word': 'And',
    'start': 27.284,
    'end': 27.404,
    'is_unclear': False},
   {'word': 'so', 'start': 27.464, 'end': 27.644, 'is_unclear': False},
   {'word': 'when', 'start': 27.704, 'end': 27.864, 'is_unclear': False},
   {'word': 'did', 'start': 27.884, 'end': 28.005, 'is_unclear': False},
   {'word': 'this', 'start': 28.045, 'end': 28.205, 'is_unclear': False},
   {'word': 'chest', 'start': 28.285, 'end': 28.525, 'is_unclear': False},
   {'word': 'pain', 'start': 28.565, 'end': 28.926, 'is_unclear': False},
   {'word': 'start?', 'start': 29.346, 'end': 29.647, 'is_unclear': False}]}]